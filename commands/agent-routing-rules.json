{
  "task_patterns": {
    "new_feature": {
      "patterns": ["create", "add", "implement", "build", "new", "feature"],
      "complexity": "HIGH",
      "agents_needed": "5-10"
    },
    "bug_fix": {
      "patterns": ["fix", "bug", "error", "broken", "not working", "issue"],
      "complexity": "LOW-MEDIUM",
      "agents_needed": "1-3"
    },
    "refactoring": {
      "patterns": ["refactor", "improve", "clean", "restructure", "optimize code"],
      "complexity": "MEDIUM",
      "agents_needed": "2-4"
    },
    "performance": {
      "patterns": ["optimize", "performance", "slow", "speed up", "bundle"],
      "complexity": "MEDIUM-HIGH",
      "agents_needed": "2-5"
    },
    "security": {
      "patterns": ["security", "vulnerability", "audit", "secure", "owasp"],
      "complexity": "HIGH-CRITICAL",
      "agents_needed": "3-6"
    },
    "testing": {
      "patterns": ["test", "coverage", "testing", "unit test", "e2e"],
      "complexity": "LOW-MEDIUM",
      "agents_needed": "2-3"
    },
    "documentation": {
      "patterns": ["document", "docs", "readme", "documentation"],
      "complexity": "LOW",
      "agents_needed": "1-2"
    }
  },

  "routes": {
    "new_feature": {
      "name": "Feature Development Pipeline",
      "trigger": "User wants to create/add new functionality",
      "steps": [
        {
          "step": 1,
          "phase": "Architecture",
          "agent": "architecture-advisor",
          "task": "Design feature architecture",
          "output": "Feature structure, data flow, tech decisions"
        },
        {
          "step": 2,
          "phase": "Database",
          "agent": "[database-orm-specialist from RULEBOOK]",
          "task": "Design database schema and queries",
          "output": "Schema models, migrations, queries",
          "conditional": "if needed"
        },
        {
          "step": 3,
          "phase": "Backend",
          "agent": "[backend-framework-specialist from RULEBOOK]",
          "task": "Implement backend logic",
          "output": "API endpoints, business logic, data layer"
        },
        {
          "step": 4,
          "phase": "Frontend",
          "agent": "[frontend-framework-specialist from RULEBOOK]",
          "task": "Build user interface",
          "output": "Components, hooks, pages"
        },
        {
          "step": 5,
          "phase": "Styling",
          "agent": "[styling-specialist from RULEBOOK]",
          "task": "Apply styling and responsiveness",
          "output": "Styled, responsive UI"
        },
        {
          "step": 6,
          "phase": "Testing",
          "agent": "test-strategist + [testing-specialist from RULEBOOK]",
          "task": "Write comprehensive tests",
          "output": "Unit, integration, and E2E tests"
        },
        {
          "step": 7,
          "phase": "Review",
          "agent": "code-reviewer + security-auditor",
          "task": "Quality and security check",
          "output": "Approved, production-ready code"
        }
      ]
    },

    "bug_fix": {
      "name": "Debugging Pipeline",
      "trigger": "User reports something is broken/not working",
      "steps": [
        {
          "step": 1,
          "phase": "Investigation",
          "agent": "project-analyzer",
          "task": "Reproduce bug and identify root cause",
          "output": "Bug analysis, affected files"
        },
        {
          "step": 2,
          "phase": "Fix",
          "agent": "[relevant specialist based on bug location]",
          "task": "Implement fix",
          "output": "Fixed code"
        },
        {
          "step": 3,
          "phase": "Verification",
          "agent": "[testing-specialist from RULEBOOK]",
          "task": "Write regression test",
          "output": "Test that prevents bug from recurring"
        },
        {
          "step": 4,
          "phase": "Review",
          "agent": "code-reviewer",
          "task": "Verify fix quality",
          "output": "Approved fix"
        }
      ]
    },

    "refactoring": {
      "name": "Code Improvement Pipeline",
      "trigger": "User wants to improve existing code without changing behavior",
      "steps": [
        {
          "step": 1,
          "phase": "Analysis",
          "agent": "architecture-advisor + refactoring-specialist",
          "task": "Identify improvement opportunities",
          "output": "Refactoring plan"
        },
        {
          "step": 2,
          "phase": "Implementation",
          "agent": "refactoring-specialist + [language-specialist from RULEBOOK]",
          "task": "Apply refactorings",
          "output": "Improved code structure"
        },
        {
          "step": 3,
          "phase": "Testing",
          "agent": "[testing-specialist from RULEBOOK]",
          "task": "Verify behavior unchanged",
          "output": "Passing tests (same behavior)"
        },
        {
          "step": 4,
          "phase": "Review",
          "agent": "code-reviewer",
          "task": "Verify improvements",
          "output": "Approved refactoring"
        }
      ]
    },

    "performance": {
      "name": "Optimization Pipeline",
      "trigger": "User wants to improve performance/speed",
      "steps": [
        {
          "step": 1,
          "phase": "Profiling",
          "agent": "performance-optimizer + project-analyzer",
          "task": "Identify bottlenecks",
          "output": "Performance analysis, bottlenecks identified"
        },
        {
          "step": 2,
          "phase": "Optimization",
          "agent": "performance-optimizer + [relevant specialists]",
          "task": "Apply optimizations",
          "output": "Optimized code"
        },
        {
          "step": 3,
          "phase": "Benchmarking",
          "agent": "performance-optimizer",
          "task": "Measure improvements",
          "output": "Performance metrics (before/after)"
        },
        {
          "step": 4,
          "phase": "Testing",
          "agent": "[testing-specialist from RULEBOOK]",
          "task": "Verify functionality intact",
          "output": "Passing tests"
        },
        {
          "step": 5,
          "phase": "Review",
          "agent": "code-reviewer",
          "task": "Verify optimization quality",
          "output": "Approved optimizations"
        }
      ]
    },

    "security": {
      "name": "Security Audit Pipeline",
      "trigger": "User wants security review/fix vulnerabilities",
      "steps": [
        {
          "step": 1,
          "phase": "Audit",
          "agent": "security-auditor",
          "task": "Scan for vulnerabilities",
          "output": "Security report (OWASP Top 10 check)"
        },
        {
          "step": 2,
          "phase": "Analysis",
          "agent": "security-auditor + architecture-advisor",
          "task": "Assess risk and create fix plan",
          "output": "Prioritized vulnerability list, fix plan"
        },
        {
          "step": 3,
          "phase": "Remediation",
          "agent": "[relevant specialists based on vulnerability]",
          "task": "Fix vulnerabilities",
          "output": "Secured code"
        },
        {
          "step": 4,
          "phase": "Verification",
          "agent": "security-auditor",
          "task": "Re-scan and verify fixes",
          "output": "Clean security report"
        },
        {
          "step": 5,
          "phase": "Testing",
          "agent": "[testing-specialist from RULEBOOK]",
          "task": "Test security fixes",
          "output": "Security regression tests"
        },
        {
          "step": 6,
          "phase": "Review",
          "agent": "code-reviewer + security-auditor",
          "task": "Final security verification",
          "output": "Security-approved code"
        }
      ]
    },

    "testing": {
      "name": "Test Development Pipeline",
      "trigger": "User wants to add/improve tests",
      "steps": [
        {
          "step": 1,
          "phase": "Planning",
          "agent": "test-strategist",
          "task": "Create test plan",
          "output": "Test strategy, coverage targets"
        },
        {
          "step": 2,
          "phase": "Implementation",
          "agent": "[testing-specialist from RULEBOOK]",
          "task": "Write tests",
          "output": "Unit, integration, and/or E2E tests"
        },
        {
          "step": 3,
          "phase": "Review",
          "agent": "test-strategist + code-reviewer",
          "task": "Verify test quality",
          "output": "Approved tests"
        }
      ]
    },

    "documentation": {
      "name": "Documentation Pipeline",
      "trigger": "User wants to document code/features",
      "steps": [
        {
          "step": 1,
          "phase": "Analysis",
          "agent": "project-analyzer",
          "task": "Understand what needs documentation",
          "output": "Documentation scope"
        },
        {
          "step": 2,
          "phase": "Writing",
          "agent": "documentation-engineer",
          "task": "Write documentation",
          "output": "README, API docs, inline comments"
        },
        {
          "step": 3,
          "phase": "Review",
          "agent": "code-reviewer",
          "task": "Verify documentation quality",
          "output": "Approved documentation"
        }
      ]
    }
  },

  "complexity_routing": {
    "trivial": {
      "loc": "< 10",
      "files": "1",
      "agents_needed": 0,
      "approach": "Direct fix without agents"
    },
    "simple": {
      "loc": "10-50",
      "files": "1",
      "agents_needed": 1,
      "approach": "Single specialist agent"
    },
    "moderate": {
      "loc": "50-200",
      "files": "2-4",
      "agents_needed": "2-4",
      "approach": "Multi-agent pipeline"
    },
    "complex": {
      "loc": "200-500",
      "files": "5-10",
      "agents_needed": "5-10",
      "approach": "Full pipeline with phases"
    },
    "critical": {
      "loc": "> 500",
      "files": "> 10",
      "risk": "high",
      "agents_needed": "10+",
      "approach": "All relevant agents, multiple review cycles"
    }
  }
}
